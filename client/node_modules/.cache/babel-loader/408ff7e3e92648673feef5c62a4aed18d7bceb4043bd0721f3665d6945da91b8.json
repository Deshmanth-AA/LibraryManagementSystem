{"ast":null,"code":"// client/src/utils/api.js\nimport axios from 'axios';\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 5000 // 5 second timeout\n});\n\n// Request interceptor\napi.interceptors.request.use(config => {\n  // Log request in development\n  if (process.env.NODE_ENV === 'development') {\n    console.log('API Request:', config.method.toUpperCase(), config.url);\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Response interceptor\napi.interceptors.response.use(response => {\n  // Log response in development\n  if (process.env.NODE_ENV === 'development') {\n    console.log('API Response:', response.status, response.config.url);\n  }\n  return response;\n}, error => {\n  if (error.response) {\n    // Server responded with error\n    console.error('API Error:', error.response.status, error.response.data);\n  } else if (error.request) {\n    // Request made but no response\n    console.error('API Error: No response received');\n  } else {\n    // Error in request configuration\n    console.error('API Error:', error.message);\n  }\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","timeout","interceptors","request","use","config","NODE_ENV","console","log","method","toUpperCase","url","error","Promise","reject","response","status","data","message"],"sources":["F:/library-management-system/client/src/utils/api.js"],"sourcesContent":["// client/src/utils/api.js\nimport axios from 'axios';\n\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 5000 // 5 second timeout\n});\n\n// Request interceptor\napi.interceptors.request.use(\n  (config) => {\n    // Log request in development\n    if (process.env.NODE_ENV === 'development') {\n      console.log('API Request:', config.method.toUpperCase(), config.url);\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor\napi.interceptors.response.use(\n  (response) => {\n    // Log response in development\n    if (process.env.NODE_ENV === 'development') {\n      console.log('API Response:', response.status, response.config.url);\n    }\n    return response;\n  },\n  (error) => {\n    if (error.response) {\n      // Server responded with error\n      console.error('API Error:', error.response.status, error.response.data);\n    } else if (error.request) {\n      // Request made but no response\n      console.error('API Error: No response received');\n    } else {\n      // Error in request configuration\n      console.error('API Error:', error.message);\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAEzE,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACvBC,OAAO,EAAEN,QAAQ;EACjBO,OAAO,EAAE;IACP,cAAc,EAAE;EAClB,CAAC;EACDC,OAAO,EAAE,IAAI,CAAC;AAChB,CAAC,CAAC;;AAEF;AACAJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;EACV;EACA,IAAIX,OAAO,CAACC,GAAG,CAACW,QAAQ,KAAK,aAAa,EAAE;IAC1CC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEH,MAAM,CAACI,MAAM,CAACC,WAAW,CAAC,CAAC,EAAEL,MAAM,CAACM,GAAG,CAAC;EACtE;EACA,OAAON,MAAM;AACf,CAAC,EACAO,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAf,GAAG,CAACK,YAAY,CAACa,QAAQ,CAACX,GAAG,CAC1BW,QAAQ,IAAK;EACZ;EACA,IAAIrB,OAAO,CAACC,GAAG,CAACW,QAAQ,KAAK,aAAa,EAAE;IAC1CC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEO,QAAQ,CAACC,MAAM,EAAED,QAAQ,CAACV,MAAM,CAACM,GAAG,CAAC;EACpE;EACA,OAAOI,QAAQ;AACjB,CAAC,EACAH,KAAK,IAAK;EACT,IAAIA,KAAK,CAACG,QAAQ,EAAE;IAClB;IACAR,OAAO,CAACK,KAAK,CAAC,YAAY,EAAEA,KAAK,CAACG,QAAQ,CAACC,MAAM,EAAEJ,KAAK,CAACG,QAAQ,CAACE,IAAI,CAAC;EACzE,CAAC,MAAM,IAAIL,KAAK,CAACT,OAAO,EAAE;IACxB;IACAI,OAAO,CAACK,KAAK,CAAC,iCAAiC,CAAC;EAClD,CAAC,MAAM;IACL;IACAL,OAAO,CAACK,KAAK,CAAC,YAAY,EAAEA,KAAK,CAACM,OAAO,CAAC;EAC5C;EACA,OAAOL,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAef,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}